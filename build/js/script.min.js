new Swiper(".brands-tape__container",{slidesPerView:"7",loop:!0,speed:2e3,freeMode:!0,autoplay:{delay:1,disableOnInteraction:!1}}),function(){function e(){return new Swiper(".equipment__slider-container",{freeMode:!0,slidesPerView:2.3})}function t(){return new Swiper(".equipment__slider-container",{pagination:{el:".swiper-pagination",type:"bullets"}})}var i=function(){return window.matchMedia("(min-width: 768px)").matches},n=!i(),s=i()?e():t();if(s){window.addEventListener("resize",(function(){n&&i()&&(s.destroy(!0,!0),s=e(),n=!1),n||i()||(s.destroy(!0,!0),s=t(),n=!0)}))}}(),function(){var e=document.querySelector(".service-form form"),t=document.querySelector(".service-form__input--name"),i=document.querySelector(".service-form__label--name"),n=document.querySelector(".service-form__input--surname"),s=document.querySelector(".service-form__label--surname"),c=document.querySelector(".service-form__input--phone"),r=document.querySelector(".service-form__label--phone"),o=document.querySelector(".service-form__input--email"),l=document.querySelector(".service-form__label--email"),a=document.querySelector(".service-form__input--city"),u=(document.querySelector(".service-form__label--city"),document.querySelector(".service-form__text")),d=document.querySelector(".service-form__label--text"),m=document.querySelector("input[type='checkbox']"),p=document.querySelector("label[for='agreement']"),f=document.querySelector(".service-form__text-wrapper"),b=document.querySelector(".service-form__submit");if(e){new Inputmask("+7(999)999-99-99").mask(c);var h=!1,v=!1,w=!1,_=!1,y=!1,x=!1,g=function(e){e.classList.contains("js--error")||e.classList.add("js--error")},j=function(e){e.classList.contains("js--error")&&e.classList.remove("js--error")},S=function(){h&&v&&w&&_&&y&&x&&""!==a.value?b.hasAttribute("disabled")&&b.removeAttribute("disabled"):b.hasAttribute("disabled")||b.setAttribute("disabled","")};window.checkFormValidity=S,t.addEventListener("input",(function(){(h=""!==t.value)?j(t):g(t),h?j(i):g(i),S()})),n.addEventListener("input",(function(){(v=""!==n.value)?j(n):g(n),v?j(s):g(s),S()})),c.addEventListener("input",(function(){(w=!/_/.test(c.value))?j(c):g(c),w?j(r):g(r),S()})),o.addEventListener("input",(function(){(_=!!o.validity.valid)?j(o):g(o),_?j(l):g(l),S()})),u.addEventListener("input",(function(){(y=""!==u.value)?j(u):g(u),y?j(d):g(d),S()})),m.addEventListener("change",(function(){(x=!!m.checked)?j(p):g(p),x?j(f):g(f),S()}))}}(),function(e,t){e(document).ready((function(){var i=0,n=function(){return window.matchMedia("(min-width: 1400px)").matches},s=function(){return window.matchMedia("(min-width: 768px)").matches&&window.matchMedia("(max-width: 1023px)").matches},c=function(){return window.matchMedia("(min-width: 320px)").matches&&window.matchMedia("(max-width: 479px)").matches},r=!n(),o=!s(),l=!c();e(".js-example-basic-single").select2({placeholder:"Выберите город"}),e(".js-example-basic-single").val(null).trigger("change"),e(".js-example-basic-single").on("select2:open",(function(t){e(".select2-results").mCustomScrollbar({setHeight:150,autoHideScrollbar:!0,theme:"minimal-dark"}),i<1&&(e(".js-example-basic-single").val("610").trigger("change"),i++),setTimeout((function(){e(".select2-search__field").focus()}),400)})),e(".js-example-basic-single").on("select2:select",(function(e){t()})),e(window).on("resize",(function(){n()||r||(r=!0,e(".js-example-basic-single").select2("destroy"),setTimeout((function(){e(".js-example-basic-single").select2({placeholder:"Выберите город"})}),300)),n()&&r&&(r=!1,e(".js-example-basic-single").select2("destroy"),setTimeout((function(){e(".js-example-basic-single").select2({placeholder:"Выберите город"})}),300)),s()||o||(o=!0,e(".js-example-basic-single").select2("destroy"),setTimeout((function(){e(".js-example-basic-single").select2({placeholder:"Выберите город"})}),300)),s()&&o&&(o=!1,e(".js-example-basic-single").select2("destroy"),setTimeout((function(){e(".js-example-basic-single").select2({placeholder:"Выберите город"})}),300)),c()||l||(l=!0,e(".js-example-basic-single").select2("destroy"),setTimeout((function(){e(".js-example-basic-single").select2({placeholder:"Выберите город"})}),300)),c()&&l&&(l=!1,e(".js-example-basic-single").select2("destroy"),setTimeout((function(){e(".js-example-basic-single").select2({placeholder:"Выберите город"})}),300))}))}))}(jQuery,window.checkFormValidity);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kcy10YXBlLmpzIiwiZXF1aXBtZW50LmpzIiwiZm9ybS5qcyIsInNlbGVjdC1pbnB1dC5qcyJdLCJuYW1lcyI6WyJTd2lwZXIiLCJzbGlkZXNQZXJWaWV3IiwibG9vcCIsInNwZWVkIiwiZnJlZU1vZGUiLCJhdXRvcGxheSIsImRlbGF5IiwiZGlzYWJsZU9uSW50ZXJhY3Rpb24iLCJpbml0RnJlZVN3aXBlciIsImluaXRTaW5nbGVTd2lwZXIiLCJwYWdpbmF0aW9uIiwiZWwiLCJ0eXBlIiwiaXNUYWJsZXQiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImlzT3V0T2ZUYWJsZXQiLCJzbGlkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZGVzdHJveSIsImZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYW1lSW5wdXQiLCJuYW1lTGFiZWwiLCJzdXJuYW1lSW5wdXQiLCJzdXJuYW1lTGFiZWwiLCJwaG9uZUlucHV0IiwicGhvbmVMYWJlbCIsImVtYWlsSW5wdXQiLCJlbWFpbExhYmVsIiwiY2l0eUlucHV0IiwidGV4dElucHV0IiwidGV4dExhYmVsIiwiY2hlY2tib3hJbnB1dCIsImNoZWNrYm94TGFiZWwiLCJhZ3JlZW1lbnQiLCJzdWJtaXRCdXR0b24iLCJJbnB1dG1hc2siLCJtYXNrIiwiaXNOYW1lVmFsaWQiLCJpc1N1cm5hbWVWYWxpZCIsImlzUGhvbmVWYWxpZCIsImlzRW1haWxWYWxpZCIsImlzVGV4dFZhbGlkIiwiaXNBZ3JlZSIsInJlbmRlckVycm9yIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmVFcnJvciIsInJlbW92ZSIsImNoZWNrRm9ybVZhbGlkaXR5IiwidmFsdWUiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXN0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImNoZWNrZWQiLCIkIiwicmVhZHkiLCJzZWxlY3Rpb25zIiwiaXNEZXNrdG9wIiwiaXNNb2JpbGUiLCJpc091dE9mRGVza3RvcCIsImlzT3V0T2ZNb2JpbGUiLCJzZWxlY3QyIiwicGxhY2Vob2xkZXIiLCJ2YWwiLCJ0cmlnZ2VyIiwib24iLCJlIiwibUN1c3RvbVNjcm9sbGJhciIsInNldEhlaWdodCIsImF1dG9IaWRlU2Nyb2xsYmFyIiwidGhlbWUiLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQUNBLElBQUFBLE9BQUEsMEJBQUEsQ0FDQUMsY0FBQSxJQUNBQyxNQUFBLEVBQ0FDLE1BQUEsSUFDQUMsVUFBQSxFQUNBQyxTQUFBLENBQ0FDLE1BQUEsRUFDQUMsc0JBQUEsS0NSQSxXQUNBLFNBQUFDLElBQ0EsT0FBQSxJQUFBUixPQUFBLCtCQUFBLENBQ0FJLFVBQUEsRUFDQUgsY0FBQSxNQUlBLFNBQUFRLElBQ0EsT0FBQSxJQUFBVCxPQUFBLCtCQUFBLENBQ0FVLFdBQUEsQ0FDQUMsR0FBQSxxQkFDQUMsS0FBQSxhQUtBLElBQUFDLEVBQUEsV0FDQSxPQUFBQyxPQUFBQyxXQUFBLHNCQUFBQyxTQUdBQyxHQUFBSixJQUVBSyxFQUFBTCxJQUNBTCxJQUNBQyxJQUVBLEdBQUFTLEVBQUEsQ0FrQkFKLE9BQUFLLGlCQUFBLFVBZEEsV0FDQUYsR0FBQUosTUFDQUssRUFBQUUsU0FBQSxHQUFBLEdBQ0FGLEVBQUFWLElBQ0FTLEdBQUEsR0FHQUEsR0FBQUosTUFDQUssRUFBQUUsU0FBQSxHQUFBLEdBQ0FGLEVBQUFULElBQ0FRLEdBQUEsT0F6Q0EsR0NBQSxXQUNBLElBQUFJLEVBQUFDLFNBQUFDLGNBQUEsc0JBQ0FDLEVBQUFGLFNBQUFDLGNBQUEsOEJBQ0FFLEVBQUFILFNBQUFDLGNBQUEsOEJBQ0FHLEVBQUFKLFNBQUFDLGNBQUEsaUNBQ0FJLEVBQUFMLFNBQUFDLGNBQUEsaUNBQ0FLLEVBQUFOLFNBQUFDLGNBQUEsK0JBQ0FNLEVBQUFQLFNBQUFDLGNBQUEsK0JBQ0FPLEVBQUFSLFNBQUFDLGNBQUEsK0JBQ0FRLEVBQUFULFNBQUFD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UixLQUdBZSxZQUFBLFdBQ0FqQixFQUFBLDBCQUFBa0IsVUFDQSxRQUdBbEIsRUFBQSw0QkFBQVcsR0FBQSxrQkFBQSxTQUFBQyxHQUNBckIsT0FHQVMsRUFBQWpELFFBQUE0RCxHQUFBLFVBQUEsV0FDQVIsS0FBQUUsSUFDQUEsR0FBQSxFQUVBTCxFQUFBLDRCQUFBTyxRQUFBLFdBRUFVLFlBQUEsV0FDQWpCLEVBQUEsNEJBQUFPLFFBQUEsQ0FDQUMsWUFBQSxxQkFFQSxNQUdBTCxLQUFBRSxJQUNBQSxHQUFBLEVBRUFMLEVBQUEsNEJBQUFPLFFBQUEsV0FFQVUsWUFBQSxXQUNBakIsRUFBQSw0QkFBQU8sUUFBQSxDQUNBQyxZQUFBLHFCQUVBLE1BR0ExRCxLQUFBSSxJQUNBQSxHQUFBLEVBRUE4QyxFQUFBLDRCQUFBTyxRQUFBLFdBRUFVLFlBQUEsV0FDQWpCLEVBQUEsNEJBQUFPLFFBQUEsQ0FDQUMsWUFBQSxxQkFFQSxNQUdBMUQsS0FBQUksSUFDQUEsR0FBQSxFQUNBOEMsRUFBQSw0QkFBQU8sUUFBQSxXQUVBVSxZQUFBLFdBQ0FqQixFQUFBLDRCQUFBTyxRQUFBLENBQ0FDLFlBQUEscUJBRUEsTUFHQUosS0FBQUUsSUFDQUEsR0FBQSxFQUVBTixFQUFBLDRCQUFBTyxRQUFBLFdBRUFVLFlBQUEsV0FDQWpCLEVBQUEsNEJBQUFPLFFBQUEsQ0FDQUMsWUFBQSxxQkFFQSxNQUdBSixLQUFBRSxJQUNBQSxHQUFBLEVBRUFOLEVBQUEsNEJBQUFPLFFBQUEsV0FFQVUsWUFBQSxXQUNBakIsRUFBQSw0QkFBQU8sUUFBQSxDQUNBQyxZQUFBLHFCQUVBLFlBdEhBLENBMEhBVyxPQUFBcEUsT0FBQXdDIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICB2YXIgc2xpZGVyID0gbmV3IFN3aXBlcignLmJyYW5kcy10YXBlX19jb250YWluZXInLCB7XG4gICAgc2xpZGVzUGVyVmlldzogJzcnLFxuICAgIGxvb3A6IHRydWUsXG4gICAgc3BlZWQ6IDIwMDAsXG4gICAgZnJlZU1vZGU6IHRydWUsXG4gICAgYXV0b3BsYXk6IHtcbiAgICAgIGRlbGF5OiAxLFxuICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlXG4gICAgfSxcbiAgfSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gaW5pdEZyZWVTd2lwZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBTd2lwZXIoJy5lcXVpcG1lbnRfX3NsaWRlci1jb250YWluZXInLCB7XG4gICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIuM1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFNpbmdsZVN3aXBlcigpIHtcbiAgICByZXR1cm4gbmV3IFN3aXBlcignLmVxdWlwbWVudF9fc2xpZGVyLWNvbnRhaW5lcicsIHtcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgICB0eXBlOiAnYnVsbGV0cycsXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgaXNUYWJsZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogNzY4cHgpXCIpLm1hdGNoZXM7XG4gIH07XG5cbiAgdmFyIGlzT3V0T2ZUYWJsZXQgPSAhaXNUYWJsZXQoKTtcblxuICB2YXIgc2xpZGVyID0gaXNUYWJsZXQoKVxuICAgID8gaW5pdEZyZWVTd2lwZXIoKVxuICAgIDogaW5pdFNpbmdsZVN3aXBlcigpO1xuXG4gIGlmICghc2xpZGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc091dE9mVGFibGV0ICYmIGlzVGFibGV0KCkpIHtcbiAgICAgIHNsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgICAgc2xpZGVyID0gaW5pdEZyZWVTd2lwZXIoKTtcbiAgICAgIGlzT3V0T2ZUYWJsZXQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzT3V0T2ZUYWJsZXQgJiYgIWlzVGFibGV0KCkpIHtcbiAgICAgIHNsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgICAgc2xpZGVyID0gaW5pdFNpbmdsZVN3aXBlcigpO1xuICAgICAgaXNPdXRPZlRhYmxldCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWZvcm0gZm9ybScpO1xuICB2YXIgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtZm9ybV9faW5wdXQtLW5hbWUnKTtcbiAgdmFyIG5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWZvcm1fX2xhYmVsLS1uYW1lJyk7XG4gIHZhciBzdXJuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1mb3JtX19pbnB1dC0tc3VybmFtZScpO1xuICB2YXIgc3VybmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtZm9ybV9fbGFiZWwtLXN1cm5hbWUnKTtcbiAgdmFyIHBob25lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1mb3JtX19pbnB1dC0tcGhvbmUnKTtcbiAgdmFyIHBob25lTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1mb3JtX19sYWJlbC0tcGhvbmUnKTtcbiAgdmFyIGVtYWlsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1mb3JtX19pbnB1dC0tZW1haWwnKTtcbiAgdmFyIGVtYWlsTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1mb3JtX19sYWJlbC0tZW1haWwnKTtcbiAgdmFyIGNpdHlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWZvcm1fX2lucHV0LS1jaXR5Jyk7XG4gIHZhciBjaXR5TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1mb3JtX19sYWJlbC0tY2l0eScpO1xuICB2YXIgdGV4dElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtZm9ybV9fdGV4dCcpO1xuICB2YXIgdGV4dExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtZm9ybV9fbGFiZWwtLXRleHQnKTtcbiAgdmFyIGNoZWNrYm94SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT0nY2hlY2tib3gnXVwiKTtcbiAgdmFyIGNoZWNrYm94TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGFiZWxbZm9yPSdhZ3JlZW1lbnQnXVwiKTtcbiAgdmFyIGFncmVlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWZvcm1fX3RleHQtd3JhcHBlcicpO1xuICB2YXIgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtZm9ybV9fc3VibWl0Jyk7XG5cbiAgaWYgKCFmb3JtKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGltUGhvbmUgPSBuZXcgSW5wdXRtYXNrKCcrNyg5OTkpOTk5LTk5LTk5Jyk7XG4gIGltUGhvbmUubWFzayhwaG9uZUlucHV0KTtcblxuICB2YXIgaXNOYW1lVmFsaWQgPSBmYWxzZTtcbiAgdmFyIGlzU3VybmFtZVZhbGlkID0gZmFsc2U7XG4gIHZhciBpc1Bob25lVmFsaWQgPSBmYWxzZTtcbiAgdmFyIGlzRW1haWxWYWxpZCA9IGZhbHNlO1xuICB2YXIgaXNUZXh0VmFsaWQgPSBmYWxzZTtcbiAgdmFyIGlzQWdyZWUgPSBmYWxzZTtcblxuICB2YXIgZGlzYWJsZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXN1Ym1pdEJ1dHRvbi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZW5hYmxlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdWJtaXRCdXR0b24uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICBzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVuZGVyRXJyb3IgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tZXJyb3InKSkge1xuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2pzLS1lcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVtb3ZlRXJyb3IgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1lcnJvcicpKSB7XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnanMtLWVycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjaGVja0Zvcm1WYWxpZGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoXG4gICAgICBpc05hbWVWYWxpZFxuICAgICAgJiYgaXNTdXJuYW1lVmFsaWRcbiAgICAgICYmIGlzUGhvbmVWYWxpZFxuICAgICAgJiYgaXNFbWFpbFZhbGlkXG4gICAgICAmJiBpc1RleHRWYWxpZFxuICAgICAgJiYgaXNBZ3JlZVxuICAgICAgJiYgY2l0eUlucHV0LnZhbHVlICE9PSAnJ1xuICAgICkge1xuICAgICAgZW5hYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc2FibGVCdXR0b24oKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uTmFtZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlzTmFtZVZhbGlkID0gbmFtZUlucHV0LnZhbHVlID09PSAnJyA/IGZhbHNlIDogdHJ1ZTtcblxuICAgIGlzTmFtZVZhbGlkID8gcmVtb3ZlRXJyb3IobmFtZUlucHV0KSA6IHJlbmRlckVycm9yKG5hbWVJbnB1dCk7XG4gICAgaXNOYW1lVmFsaWQgPyByZW1vdmVFcnJvcihuYW1lTGFiZWwpIDogcmVuZGVyRXJyb3IobmFtZUxhYmVsKTtcblxuICAgIGNoZWNrRm9ybVZhbGlkaXR5KCk7XG4gIH07XG5cbiAgdmFyIG9uU3VybmFtZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlzU3VybmFtZVZhbGlkID0gc3VybmFtZUlucHV0LnZhbHVlID09PSAnJyA/IGZhbHNlIDogdHJ1ZTtcblxuICAgIGlzU3VybmFtZVZhbGlkID8gcmVtb3ZlRXJyb3Ioc3VybmFtZUlucHV0KSA6IHJlbmRlckVycm9yKHN1cm5hbWVJbnB1dCk7XG4gICAgaXNTdXJuYW1lVmFsaWQgPyByZW1vdmVFcnJvcihzdXJuYW1lTGFiZWwpIDogcmVuZGVyRXJyb3Ioc3VybmFtZUxhYmVsKTtcblxuICAgIGNoZWNrRm9ybVZhbGlkaXR5KCk7XG4gIH07XG5cbiAgdmFyIG9uUGhvbmVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpc1Bob25lVmFsaWQgPSAoL18vKS50ZXN0KHBob25lSW5wdXQudmFsdWUpID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgaXNQaG9uZVZhbGlkID8gcmVtb3ZlRXJyb3IocGhvbmVJbnB1dCkgOiByZW5kZXJFcnJvcihwaG9uZUlucHV0KTtcbiAgICBpc1Bob25lVmFsaWQgPyByZW1vdmVFcnJvcihwaG9uZUxhYmVsKSA6IHJlbmRlckVycm9yKHBob25lTGFiZWwpO1xuXG5cbiAgICBjaGVja0Zvcm1WYWxpZGl0eSgpO1xuICB9O1xuXG4gIHZhciBvbkVtYWlsSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaXNFbWFpbFZhbGlkID0gZW1haWxJbnB1dC52YWxpZGl0eS52YWxpZCA/IHRydWUgOiBmYWxzZTtcblxuICAgIGlzRW1haWxWYWxpZCA/IHJlbW92ZUVycm9yKGVtYWlsSW5wdXQpIDogcmVuZGVyRXJyb3IoZW1haWxJbnB1dCk7XG4gICAgaXNFbWFpbFZhbGlkID8gcmVtb3ZlRXJyb3IoZW1haWxMYWJlbCkgOiByZW5kZXJFcnJvcihlbWFpbExhYmVsKTtcblxuXG4gICAgY2hlY2tGb3JtVmFsaWRpdHkoKTtcbiAgfTtcblxuICB2YXIgb25UZXh0SW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaXNUZXh0VmFsaWQgPSB0ZXh0SW5wdXQudmFsdWUgPT09ICcnID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgaXNUZXh0VmFsaWQgPyByZW1vdmVFcnJvcih0ZXh0SW5wdXQpIDogcmVuZGVyRXJyb3IodGV4dElucHV0KTtcbiAgICBpc1RleHRWYWxpZCA/IHJlbW92ZUVycm9yKHRleHRMYWJlbCkgOiByZW5kZXJFcnJvcih0ZXh0TGFiZWwpO1xuXG4gICAgY2hlY2tGb3JtVmFsaWRpdHkoKTtcbiAgfTtcblxuICB2YXIgb25BZ3JlZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpc0FncmVlID0gY2hlY2tib3hJbnB1dC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlO1xuXG5cblxuICAgIGlzQWdyZWUgPyByZW1vdmVFcnJvcihjaGVja2JveExhYmVsKSA6IHJlbmRlckVycm9yKGNoZWNrYm94TGFiZWwpO1xuICAgIGlzQWdyZWUgPyByZW1vdmVFcnJvcihhZ3JlZW1lbnQpIDogcmVuZGVyRXJyb3IoYWdyZWVtZW50KTtcblxuXG4gICAgY2hlY2tGb3JtVmFsaWRpdHkoKTtcbiAgfTtcblxuICB3aW5kb3cuY2hlY2tGb3JtVmFsaWRpdHkgPSBjaGVja0Zvcm1WYWxpZGl0eTtcblxuICBuYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBvbk5hbWVJbnB1dCk7XG4gIHN1cm5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uU3VybmFtZUlucHV0KTtcbiAgcGhvbmVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uUGhvbmVJbnB1dCk7XG4gIGVtYWlsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBvbkVtYWlsSW5wdXQpO1xuICB0ZXh0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBvblRleHRJbnB1dCk7XG4gIGNoZWNrYm94SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25BZ3JlZUNoYW5nZSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCAkLCBjaGVja0Zvcm1WYWxpZGl0eSApIHtcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGVjdGlvbnMgPSAwO1xuICAgIHZhciBpc0Rlc2t0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDE0MDBweCknKS5tYXRjaGVzO1xuICAgIH0gO1xuXG4gICAgdmFyIGlzVGFibGV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogNzY4cHgpJykubWF0Y2hlc1xuICAgICAgICAmJiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTAyM3B4KScpLm1hdGNoZXM7XG4gICAgfTtcblxuICAgIHZhciBpc01vYmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAgd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDMyMHB4KScpLm1hdGNoZXNcbiAgICAgICAgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDQ3OXB4KScpLm1hdGNoZXM7XG4gICAgfTtcblxuXG4gICAgdmFyIGlzT3V0T2ZEZXNrdG9wID0gIWlzRGVza3RvcCgpO1xuICAgIHZhciBpc091dE9mVGFibGV0ID0gIWlzVGFibGV0KCk7XG4gICAgdmFyIGlzT3V0T2ZNb2JpbGUgPSAhaXNNb2JpbGUoKTtcblxuICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnNlbGVjdDIoe1xuICAgICAgcGxhY2Vob2xkZXI6IFwi0JLRi9Cx0LXRgNC40YLQtSDQs9C+0YDQvtC0XCJcbiAgICB9KTtcblxuICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnZhbChudWxsKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLm9uKCdzZWxlY3QyOm9wZW4nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgJChcIi5zZWxlY3QyLXJlc3VsdHNcIikubUN1c3RvbVNjcm9sbGJhcih7XG4gICAgICAgIHNldEhlaWdodDogMTUwLFxuICAgICAgICBhdXRvSGlkZVNjcm9sbGJhcjogdHJ1ZSxcbiAgICAgICAgdGhlbWU6ICdtaW5pbWFsLWRhcmsnXG4gICAgICB9KTtcblxuICAgICAgaWYgKHNlbGVjdGlvbnMgPCAxKSB7XG4gICAgICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnZhbCgnNjEwJykudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIHNlbGVjdGlvbnMrKztcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJy5zZWxlY3QyLXNlYXJjaF9fZmllbGQnKS5mb2N1cygpO1xuICAgICAgfSwgNDAwKTtcbiAgICB9KTtcblxuICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBjaGVja0Zvcm1WYWxpZGl0eSgpO1xuICAgIH0pO1xuXG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWlzRGVza3RvcCgpICYmICFpc091dE9mRGVza3RvcCkge1xuICAgICAgICBpc091dE9mRGVza3RvcCA9IHRydWU7XG5cbiAgICAgICAgJCgnLmpzLWV4YW1wbGUtYmFzaWMtc2luZ2xlJykuc2VsZWN0MignZGVzdHJveScpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnNlbGVjdDIoe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwi0JLRi9Cx0LXRgNC40YLQtSDQs9C+0YDQvtC0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGVza3RvcCgpICYmIGlzT3V0T2ZEZXNrdG9wKSB7XG4gICAgICAgIGlzT3V0T2ZEZXNrdG9wID0gZmFsc2U7XG5cbiAgICAgICAgJCgnLmpzLWV4YW1wbGUtYmFzaWMtc2luZ2xlJykuc2VsZWN0MignZGVzdHJveScpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnNlbGVjdDIoe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwi0JLRi9Cx0LXRgNC40YLQtSDQs9C+0YDQvtC0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1RhYmxldCgpICYmICFpc091dE9mVGFibGV0KSB7XG4gICAgICAgIGlzT3V0T2ZUYWJsZXQgPSB0cnVlO1xuXG4gICAgICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnNlbGVjdDIoJ2Rlc3Ryb3knKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkKCcuanMtZXhhbXBsZS1iYXNpYy1zaW5nbGUnKS5zZWxlY3QyKHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcItCS0YvQsdC10YDQuNGC0LUg0LPQvtGA0L7QtFwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1RhYmxldCgpICYmIGlzT3V0T2ZUYWJsZXQpIHtcbiAgICAgICAgaXNPdXRPZlRhYmxldCA9IGZhbHNlO1xuICAgICAgICAkKCcuanMtZXhhbXBsZS1iYXNpYy1zaW5nbGUnKS5zZWxlY3QyKCdkZXN0cm95Jyk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJCgnLmpzLWV4YW1wbGUtYmFzaWMtc2luZ2xlJykuc2VsZWN0Mih7XG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCLQktGL0LHQtdGA0LjRgtC1INCz0L7RgNC+0LRcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTW9iaWxlKCkgJiYgIWlzT3V0T2ZNb2JpbGUpIHtcbiAgICAgICAgaXNPdXRPZk1vYmlsZSA9IHRydWU7XG5cbiAgICAgICAgJCgnLmpzLWV4YW1wbGUtYmFzaWMtc2luZ2xlJykuc2VsZWN0MignZGVzdHJveScpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnNlbGVjdDIoe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwi0JLRi9Cx0LXRgNC40YLQtSDQs9C+0YDQvtC0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTW9iaWxlKCkgJiYgaXNPdXRPZk1vYmlsZSkge1xuICAgICAgICBpc091dE9mTW9iaWxlID0gZmFsc2U7XG5cbiAgICAgICAgJCgnLmpzLWV4YW1wbGUtYmFzaWMtc2luZ2xlJykuc2VsZWN0MignZGVzdHJveScpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQoJy5qcy1leGFtcGxlLWJhc2ljLXNpbmdsZScpLnNlbGVjdDIoe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwi0JLRi9Cx0LXRgNC40YLQtSDQs9C+0YDQvtC0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cbiAgICB9KVxuICB9KTtcbn0pKCBqUXVlcnksIHdpbmRvdy5jaGVja0Zvcm1WYWxpZGl0eSApO1xuIl19
